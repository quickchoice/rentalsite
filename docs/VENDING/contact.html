<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QuickChoice • Contact</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Playfair+Display:wght@600&family=Allura&display=swap" rel="stylesheet">
<link rel="stylesheet" href="general.css" />
<link rel="stylesheet" href="contact.css" />
<link rel="icon" type="image/png" href="../public/web-assets/favicon.png">
</head>

<body class="page">
<header class="topbar">
  <a class="topbar__back" href="../vendinghome.html">← Selections</a>
  <div class="topbar__brand">QuickChoice</div>
  <a class="topbar__cta" href="./contact.html">Get a Free Machine</a>
</header>

<section class="hero hero--blue">
  <h1 class="script hero__script">Let’s Talk</h1>
  <p class="hero__sub">Tell us about your space and we’ll recommend the best setup.</p>
</section>

<section class="section contact-section">
  <div class="contact-bg">
    <img src="../public/web-assets/chat.png" alt="Background snacks" class="contact-bg-img">
  </div>

  <div class="form-card glass">
    <div class="form-card__header">
      <span class="form-pill">QuickChoice Contact</span>
      <p class="form-sub">We typically reply within one business day.</p>
    </div>

    <!-- ✅ USING NEW FORMSPREE ENDPOINT -->
    <form class="qform" method="POST" action="https://formspree.io/f/xqagbgrn" id="qcForm">
      <div class="qgrid">

        <label class="qfield">
          <span class="qlabel">Your Name</span>
          <input class="qinput" name="Name" id="nameField" placeholder="Jane Doe" required>
        </label>

    <label class="qfield">
  <span class="qlabel">Company / Location <span class="qopt">(optional)</span></span>
  <input class="qinput" name="Company" id="companyField" placeholder="Acme HQ • 4th Floor">
</label>
<label class="qfield">
  <span class="qlabel">Industry <span class="qopt">(optional)</span></span>
  <input class="qinput" name="Industry" id="industryField" placeholder="Office, Warehouse, Gym..." />
</label>

        <label class="qfield">
          <span class="qlabel">Your Email</span>
          <input class="qinput" type="email" name="Email" id="emailField" placeholder="you@company.com" required>
        </label>
<label class="qfield">
  <span class="qlabel">Phone <span class="qopt">(optional)</span></span>
  <input class="qinput" type="tel" name="Phone" id="phoneField" placeholder="(555) 555-1234">
</label>
<label class="qfield">
  <span class="qlabel">City, State <span class="qopt">(optional)</span></span>
  <input class="qinput" name="City" id="cityField" placeholder="Charleston, SC">
</label>

        <label class="qfield qfield--full">
          <span class="qlabel">Message</span>
          <textarea class="qtextarea" name="Message" id="messageField"
            placeholder="Vending, micro-market, or office snacks? How many people? Any favorites to stock?"
            required></textarea>
        </label>

        <!-- ✅ Hidden fields for Formspree -->
        <input type="hidden" name="_subject" id="subjectHidden">
        <input type="hidden" name="_replyto" id="replyToHidden">

      </div>

      <div class="qactions">
        <button class="btn-pill" type="submit">Send Email</button>
      </div>
    </form>
  </div>
</section>

<footer class="footer">
  <div>© <span id="y"></span> QuickChoice Vending</div>
  <nav class="footer__nav">
    <a href="./home.html">Home</a>
    <a href="./services.html">Services</a>
    <a href="./contact.html">Contact</a>
  </nav>
</footer>

<script>
document.getElementById('y').textContent = new Date().getFullYear();

const params = new URLSearchParams(window.location.search);

// ✅ Prefill snacks from Services: ?snacks=...
const snacksParam = params.get("snacks");
if (snacksParam) {
  const list = snacksParam.split(',').map(x => x.trim()).filter(Boolean);
  if (list.length) {
    const field = document.getElementById("messageField");
    const bullets = list.map(s => `• ${s}`).join("\\n");
    const existing = field.value ? "\\n\\n" + field.value : "";
    field.value = `Snack Inquiry:\\n${bullets}${existing}`;
  }
}

// ✅ Autofill Industry if ?industry= is present
if (params.get("industry")) {
  document.getElementById("industryField").value = params.get("industry");
}

// ✅ Compose Subject & set Reply-To before submit (kept as-is)
document.getElementById('qcForm').addEventListener('submit', function () {
  const company  = (document.getElementById('companyField').value || '').trim();
  const industry = (document.getElementById('industryField').value || '').trim();
  const city     = (document.getElementById('cityField').value || '').trim();
  const email    = (document.getElementById('emailField').value || '').trim();

  const parts = [];
  if (company)  parts.push(company);
  if (industry) parts.push(industry);
  if (city)     parts.push(city);

  const subject = parts.length ? parts.join(' - ') : 'New QuickChoice Inquiry';

  document.getElementById('subjectHidden').value = subject;
  document.getElementById('replyToHidden').value = email;
});
</script>

</body>
</html>

